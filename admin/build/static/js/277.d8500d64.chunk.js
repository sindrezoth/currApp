"use strict";(self.webpackChunkbasic_lazy_app=self.webpackChunkbasic_lazy_app||[]).push([[277],{140:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(727),l=t(43),a=t(903),r=t(953),i=(t(840),t(579));const c=()=>{const{username:e,roles:s}=(0,a.A)(),t=(0,n.Zp)(),[c,d]=(0,l.useState)({isOpen:!1}),[o,{isLoading:m,isSuccess:h,isError:u,error:x}]=(0,r.ZD)();return(0,l.useEffect)((()=>{h&&(console.log("sooo?"),setPersist(!1))}),[h,t]),(0,i.jsxs)("header",{children:[(0,i.jsx)(n.N_,{to:"/",children:(0,i.jsx)("h1",{children:"\u0410\u0434\u043c\u0438\u043d\u043a\u0430"})}),e?(0,i.jsx)("nav",{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.N_,{to:"/home",children:"Home"})})})}):null,e?c.isOpen?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>d((e=>({...e,isOpen:!e.isOpen}))),children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),(0,i.jsx)("button",{className:"icon-button",title:"\u0412\u044b\u0439\u0442\u0438",onClick:()=>{o()},children:"\u0412\u044b\u0439\u0442\u0438"})]}):(0,i.jsx)("button",{onClick:()=>d((e=>({...e,isOpen:!e.isOpen}))),children:(0,i.jsx)("div",{children:e})}):null]})}},277:(e,s,t)=>{t.r(s),t.d(s,{default:()=>V});var n=t(727),l=t(43),a=t(903),r=t(3),i=t(579);const c=e=>{let{admin:s}=e;const t=(0,a.A)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.N_,{to:"/admins/"+s.username,children:(0,i.jsx)("div",{className:"container border",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsxs)("div",{className:"col-lg-12 col-md-12 d-flex justify-content-between border",children:[(0,i.jsx)("span",{children:s.username}),s.username===t.username&&(0,i.jsx)("span",{children:"\u0432\u044b"})]})})})})})})};var d=t(17),o=t(99),m=t(627);const h=(0,d.pU)({}),u=h.getInitialState(),x=m.l.injectEndpoints({endpoints:e=>({getAdmins:e.query({query:()=>"/admins",validateStatus:(e,s)=>200===e.status&&!s.isError,transformResponse:e=>{const s=e.map((e=>(e.id=e._id,e)));return h.setAll(u,s)},providesTags:(e,s,t)=>null!==e&&void 0!==e&&e.ids?[{type:"Admin",id:"LIST"},...e.ids.map((e=>({type:"Admin",id:e})))]:[{type:"Admin",id:"LIST"}]}),addNewAdmin:e.mutation({query:e=>({url:"/admins",method:"POST",body:{...e}}),invalidatesTags:[{type:"Admin",id:"LIST"}]}),updateAdmin:e.mutation({query:e=>({url:"/admins",method:"PATCH",body:{...e}}),invalidatesTags:(e,s,t)=>[{type:"Admin",id:t.id}]}),deleteAdmin:e.mutation({query:e=>{let{id:s}=e;return{url:"/admins",method:"DELETE",body:{id:s}}},invalidatesTags:(e,s,t)=>[{type:"Admin",id:t.id}]})})}),{useGetAdminsQuery:j,useAddNewAdminMutation:p,useUpdateAdminMutation:g,useDeleteAdminMutation:v}=x,f=x.endpoints.getAdmins.select(),b=(0,o.Mz)(f,(e=>e.data)),{selectAll:N,selectById:w,selectIds:y}=h.getSelectors((e=>{var s;return null!==(s=b(e))&&void 0!==s?s:u})),S=()=>{const e=(0,a.A)(),s=(0,r.d4)(N);return console.log(s),(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)("h3",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u0434\u043c\u0438\u043d\u043e\u0432"}),(0,i.jsx)("ul",{children:null===s||void 0===s?void 0:s.map((e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c,{admin:{...e}},e.id),(0,i.jsx)("hr",{})]})))}),e.roles.includes("superadmin")&&(0,i.jsx)(n.N_,{to:"/admins/create",className:"btn btn-primary border rounded-50",name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0430",children:"+"})]})},k=e=>{let{client:s}=e;Object.keys(s).filter((e=>!e.match(/_/g)));return console.log(s),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.N_,{to:"/clients/"+s.id,children:(0,i.jsxs)("div",{className:"container border",children:[(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-4 col-md-6 border",children:null!==s&&void 0!==s&&s.firstname||null!==s&&void 0!==s&&s.lastname?(0,i.jsxs)("p",{children:[s.firstname," ",s.lastname]}):(0,i.jsx)("p",{children:s.email})}),(0,i.jsx)("div",{className:"col-lg-3 col-md-6 border",children:(0,i.jsx)("p",{className:"",children:"\u0434\u0435\u043f\u043e\u0437\u0438\u0442"})}),(0,i.jsx)("div",{className:"col-lg-3 col-md-12 border",children:(null===s||void 0===s?void 0:s.createdAt)&&(0,i.jsx)("div",{className:"border",children:new Date(s.createdAt).toLocaleDateString("ru-RU")})}),(0,i.jsx)("div",{className:"col-lg-2 "+(s.scripts&&s.scripts.length&&s.scripts.some((e=>{let{info:s}=e;return s.start+s.duration<Date.now()}))?"bg-success":"bg-danger")})]}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-7 border",children:(0,i.jsx)("p",{children:"KOSH"})}),(0,i.jsx)("div",{className:"col-lg-3 col-md-12 border",children:(null===s||void 0===s?void 0:s.updatedAt)&&(0,i.jsx)("div",{className:"border",children:new Date(s.updatedAt).toLocaleDateString("ru-RU")})})]})]})})})})};var A=t(477);const D=()=>{const e=(0,r.d4)(A.Ir);return(0,i.jsx)(i.Fragment,{children:null===e||void 0===e?void 0:e.map((e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k,{client:{...e}},e.id),(0,i.jsx)("hr",{})]})))})},C=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:"Dashboard"}),(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-8 border border-dark",children:(0,i.jsx)(D,{})}),(0,i.jsx)("div",{className:"col-lg-4 border border-dark",children:(0,i.jsx)(S,{})})]})})]}),F=()=>{const{username:e}=(0,a.A)();return(0,i.jsx)("main",{children:(0,i.jsx)(C,{})})};var _=t(140),L=t(834);const E=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(_.A,{}),(0,i.jsx)("div",{children:(0,i.jsx)(n.sv,{})}),(0,i.jsx)(L.A,{})]}),q=()=>(0,i.jsx)("div",{children:"ClientsListPage"}),I=()=>{const{id:e}=(0,n.g)(),s=(0,a.A)(),{firstname:t,lastname:c,email:d,phone:o,createdAt:m,updatedAt:h,trader:u,active:x,deleted:j}=(0,r.d4)((s=>(0,A.yf)(s,e)))||{},p=(0,r.d4)((e=>N(e))),[g,v]=(0,l.useState)(!1),[f,b]=(0,l.useState)(""),[w,y]=(0,l.useState)(""),[S,k]=(0,l.useState)(""),[D,{isLoading:C,isError:F,isUninitialized:_,isSuccess:L}]=((0,n.Zp)(),(0,A.r8)());(0,l.useEffect)((()=>{b(u)}),[u]);const[E,q]=(0,A.fG)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("table",{className:"table table-striped",children:[(0,i.jsx)("thead",{}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:"ID"}),(0,i.jsx)("td",{children:e})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\u0438\u043c\u044f: "}),(0,i.jsx)("td",{children:t})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\u0444\u0430\u043c\u0438\u043b\u0438\u044f: "}),(0,i.jsx)("td",{children:c})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\u0442\u0435\u043b\u0435\u0444\u043e\u043d: "}),(0,i.jsx)("td",{children:o})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\u043f\u043e\u0447\u0442\u0430: "}),(0,i.jsx)("td",{children:d})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\u0434\u0435\u043f\u043e\u0437\u0438\u0442: "}),(0,i.jsx)("td",{children:"deposit"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\u043a\u043e\u0448: "}),(0,i.jsx)("td",{children:"\u043a\u043e\u0448\u0435\u043b\u0451\u043a"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\u0442\u0440\u0435\u0439\u0434\u0435\u0440: "}),(0,i.jsx)("td",{children:(0,i.jsxs)("select",{onChange:e=>{b(e.target.value)},value:f&&f.username||"",className:"form-select","aria-label":"\u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0442\u0440\u0435\u0434\u0435\u0440\u0430",disabled:j||!g,children:[(0,i.jsx)("option",{value:"",children:"\u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0442\u0440\u0435\u0439\u0434\u0435\u0440\u0430"}),p.map(((e,t)=>(0,i.jsxs)("option",{style:{border:"1px solid red"},className:(e.username===s.username?"text-primary":"")+(t%2==0&&" bg-light"),value:e.username,children:[e.username," ",e.username===s.username?"\u0432\u044b":""]},`option${e.username}`)))]})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\u0430\u043a\u0442\u0438\u0432\u043d\u0438\u0439: "}),(0,i.jsx)("td",{children:x?"\u0434\u0430":"\u043d\u0435\u0442"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\u0443\u0434\u0430\u043b\u0451\u043d: "}),(0,i.jsx)("td",{children:j?"\u0434\u0430":"\u043d\u0435\u0442"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:"\u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d:"}),(0,i.jsx)("td",{children:new Date(h).toLocaleDateString("ru-RU")})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:"\u0441\u043e\u0437\u0434\u0430\u043d:"}),(0,i.jsx)("td",{children:new Date(m).toLocaleDateString("ru-RU")})]})]})]}),(0,i.jsxs)("div",{className:"row",children:[g?(0,i.jsxs)("div",{className:"btn-group col-6",children:[(0,i.jsx)("button",{onClick:s=>{s.preventDefault(),D({id:e,trader:f,active:x}),v(!1)},className:"btn "+(j?"btn-muted":"btn-primary"),disabled:j,children:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,i.jsx)("button",{onClick:()=>v(!1),className:"btn "+(j?"btn-muted":"btn-warning"),disabled:j,children:"\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]}):(0,i.jsx)("div",{className:"col-6",children:(0,i.jsx)("button",{onClick:()=>v(!0),className:"btn "+(j?"btn-muted":"btn-primary"),disabled:j,children:"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),(0,i.jsx)("div",{className:"col-6",children:(0,i.jsx)("div",{className:"float-end btn-group",children:(0,i.jsx)("button",{onClick:s=>{s.preventDefault(),E({id:e})},className:"btn "+(j?"btn-muted":"btn-danger"),disabled:j,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})})]})]})};var T=t(19),O=t(516);const U=e=>new Date(e-6e4*(new Date).getTimezoneOffset()),R=(0,l.memo)((function(e){let{script:s,compute:t}=e;const{id:n,list:a}=s;let r=z(a);return(0,l.useEffect)((()=>{if(!t)return;let e=setInterval((()=>{const e=z(a);JSON.stringify(r)!==JSON.stringify(e)&&(r=e,O.default.exec(`${n}`,"updateSeries",r,!0),O.default.exec(`${n}`,"updateOptions",P(n,r),!1,!0))}),1e3);return()=>clearInterval(e)}),[r]),(0,i.jsx)("div",{className:"col-xxl-12 col-xl-12 col-lg-12",children:(0,i.jsx)("div",{className:"price-widget",children:(0,i.jsx)("div",{id:"chart",children:!(null!==a&&void 0!==a&&a.length)>0?(0,i.jsx)("p",{className:"text-center text-white t-3",children:"Chart is loading..."}):(0,i.jsx)(T.A,{type:"line",series:z(a),options:P(n,r)})})})})}),((e,s)=>JSON.stringify(e)===JSON.stringify(s)));function z(e){return e.reduce(((e,s,t,n)=>(s[0]<Date.now()?(e[0].data.push([U(s[0]),s[1]]),n[t+1]&&n[t+1][0]>=Date.now()&&e[1].data.push([U(s[0]),s[1]])):e[1].data.push([U(s[0]),s[1]]),e)),[{name:"\u0412\u0438\u0434\u0438\u0442 \u043a\u043b\u0438\u0435\u043d\u0442",data:[]},{name:"\u0423\u0432\u0438\u0434\u0438\u0442 \u043a\u043b\u0438\u0435\u043d\u0442",data:[]}])}function P(e,s){return{chart:{id:e.toString(),type:"line",animations:{enabled:!1,dynamicAnimation:{enabled:!1}},toolbar:{show:!1},zoom:{enabled:!1}},colors:["#006055","#df2450"],markers:{size:1e-4,discrete:[{seriesIndex:0,dataPointIndex:s[0].data.length-1,fillColor:"#03a383",strokeColor:"#fff",size:10,shape:"circle"}]},stroke:{curve:"smooth",width:3,colors:["#006055","#df2450"]},tooltip:{theme:"light",insersect:!1},xaxis:{type:"datetime",tickAmount:12},yaxis:{type:"numeric",title:{text:"Price (USDT)"},labels:{formatter:e=>e.toFixed(2)}}}}var M=t(867);const Z=()=>{const[e,s]=(0,l.useState)(!1),[t,c]=(0,l.useState)(100),[d,o]=(0,l.useState)(18e5),[m,h]=(0,l.useState)(Date.now()),[u,x]=(0,l.useState)(!0),[j,p]=(0,l.useState)(2),[g,v]=(0,l.useState)(.03),[f,b]=(0,l.useState)(null),{id:N}=(0,n.g)(),w=(0,a.A)(),{email:y,traderId:S,trader:k}=(0,r.d4)((e=>(0,A.yf)(e,N)))||{},[D,{isLoading:C,isError:F,isUninitialized:_,isSuccess:L}]=(0,M.Xs)();(0,l.useEffect)((()=>{f&&E()}),[m,t,d,j,g]);const E=e=>{e&&e.preventDefault();const s={id:"newScript",start:u?Date.now():m,profit:g,duration:d,sum:t,step:j,creator:w,creatorId:w,trader:k,traderId:k._id,clientEmail:y,clientId:N},n=function(e){let{sum:s=100,profit:t=.03,duration:n=6e4,step:l=1,start:a=Date.now()}=e;const r=s*(1+t),i=a,c=$();return c.unshift(0),c.push(1),c.map(((e,t)=>[i+t*n/c.length,s+(r-s)*e]))}(s);b({id:N,info:s,list:n})},q=()=>{c(100),o(18e5),h(Date.now()),x(!0),p(2),v(.03),b(null)};return e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("form",{className:"my-3",onSubmit:e=>{e.preventDefault(),D(f),q(),s(!1)},children:(0,i.jsxs)("div",{className:"row gy-2",children:[(0,i.jsx)("div",{className:"col-lg-6",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"form-group col-4",children:(0,i.jsxs)("div",{className:"row p-0",children:[(0,i.jsx)("div",{className:"col-6 col-lg-9 mx-0 pe-0",children:(0,i.jsx)("input",{id:"sum",type:"number",className:"form-control text-end",onChange:e=>c(+e.target.value),value:0===t?"":t,placeholder:"100"})}),(0,i.jsx)("label",{htmlFor:"sum",className:"col-6 col-lg-3 col-form-label",children:"$"})]})}),(0,i.jsx)("div",{className:"form-group col-4 ",children:(0,i.jsxs)("div",{className:"row p-0",children:[(0,i.jsx)("div",{className:"col-6 col-lg-8 pe-0",children:(0,i.jsx)("input",{id:"duration",type:"number",className:"form-control text-end",onChange:e=>o(60*e.target.value*6e4),step:"0.5",value:0===d?"":d/6e4/60,placeholder:"10"})}),(0,i.jsx)("label",{htmlFor:"duration",className:"col-6 col-lg-4 col-form-label",children:"\u0447"})]})}),(0,i.jsx)("div",{className:"form-group col-4",children:(0,i.jsxs)("div",{className:"row p-0",children:[(0,i.jsx)("div",{className:"col-6 col-lg-8 pe-0",children:(0,i.jsx)("input",{id:"profit",type:"number",className:"form-control text-end",onChange:e=>v(+e.target.value/100),value:0===g?"":Math.round(100*g),placeholder:"3"})}),(0,i.jsx)("label",{htmlFor:"profit",className:"col-6 col-lg-4 col-form-label",children:"%"})]})})]})}),(0,i.jsx)("div",{className:"col-lg-6",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-8",children:(0,i.jsx)("h6",{children:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0441\u0442\u0430\u0440\u0442\u0430"})}),(0,i.jsxs)("div",{className:"col-lg-4",children:[(0,i.jsx)("input",{className:"checkbox me-1",id:"startNow",type:"checkbox",checked:u,onChange:()=>x((e=>(h(Date.now()),!e)))}),(0,i.jsx)("label",{htmlFor:"startNow",style:{userSelect:"none"},className:"label-checkbox",children:"\u0441\u0435\u0439\u0447\u0430\u0441"})]}),(0,i.jsx)("div",{className:"form-group col-lg-12 ",children:(0,i.jsx)("input",{type:"datetime-local",style:{display:u?"none":"block"},className:"form-control",disabled:u,onChange:e=>{var s;e.target.value.length&&h((s=e.target.value,new Date(s).getTime()))},value:(I=m,new Date(I-6e4*new Date(I).getTimezoneOffset()).toISOString().slice(0,-8)),placeholder:""})})]})}),(0,i.jsxs)("div",{className:"col-lg-12",children:[(0,i.jsx)("button",{onClick:()=>{q(),s(!1)},className:"btn btn-danger float-end",disabled:null===f,type:"submit",children:"\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,i.jsx)("button",{className:"btn btn-dark text-bg-dark float-end me-2",onClick:E,type:"button",children:"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f"}),(0,i.jsx)("button",{className:"btn btn-dark text-bg-dark float-end me-2",disabled:null===f,type:"submit",children:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442"})]}),(0,i.jsx)("div",{className:"col-lg-12"})]})}),(0,i.jsx)("div",{className:"col-12",children:e&&f&&(0,i.jsx)(R,{script:f,compute:!1})})]}):(0,i.jsx)("button",{className:"btn btn-warning my-3",onClick:e=>{s(!0),E()},children:" \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442"});var I};function $(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6;let l=2;for(;l>1;)l=e+(s-e)/2-.1*(1-2.4*Math.random());const a=[l];return t<n&&(a.unshift(...$(e,l,t+1)),a.push(...$(l,s,t+1))),a}const J=e=>{let{script:s}=e;const[t,{isSuccess:n,isLoading:l,isError:a,isUninitialized:r}]=(0,M.RZ)();return(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col-12",children:[new Date(s.info.start).toLocaleTimeString("ru-RU"),", ",new Date(s.info.start).toLocaleDateString("ru-RU")," -  ",new Date(s.info.start+s.info.duration).toLocaleTimeString("ru-RU"),", ",new Date(s.info.start+s.info.duration).toLocaleDateString("ru-RU")]}),(0,i.jsx)(R,{name:"\u0421\u0443\u043c\u043c\u0430",script:s,compute:!0}),(0,i.jsx)("div",{className:"col-lg-12",children:(0,i.jsx)("button",{className:"btn btn-danger float-end",onClick:e=>{return n=s.id,t({id:n});var n},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})},H=e=>{let{email:s}=e;const{id:t}=(0,n.g)(),l=(0,r.d4)((e=>(0,M.cJ)(e))).filter((e=>e.info.clientEmail===s||e.info.clientId===t))||{},[a,{isSuccess:c,isLoading:d,isError:o,isUninitialized:m}]=(0,M.RZ)();return l&&l.length?(0,i.jsxs)("div",{className:"col-lg-12",children:[(0,i.jsx)("h3",{className:"",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432."}),l.reduce(((e,s)=>{const{start:t,duration:n}=s.info;return t+n<Date.now()?e[2].push(s):t>Date.now()?e[1].push(s):t<Date.now()&&e[0].push(s),e}),[[],[],[]]).map(((e,s)=>(0,i.jsxs)("div",{children:[(0,i.jsx)("hr",{}),(0,i.jsx)("h4",{children:["\u0414\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439","\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"][s]}),e.map((e=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(J,{script:e,compute:!0},e.id)})))]},s))).flat(1)]}):(0,i.jsx)("p",{className:"",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u043f\u0443\u0441\u0442\u043e\u0439."})},B=()=>{const{id:e}=(0,n.g)(),{email:s,firstname:t,lastname:l,createdAt:c,updatedAt:d,deleted:o}=((0,a.A)(),(0,r.d4)((s=>(0,A.yf)(s,e)))||{});return(0,i.jsx)("div",{className:"container ",children:(0,i.jsxs)("div",{className:"row",children:[s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"col-lg-8 col-xs-12 container",children:[(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-lg-4 border border-dark overflow-hidden",children:(0,i.jsx)("div",{className:"col-lg-12 text-dark h5",children:t||l?[t,l].join(" "):s})})}),(0,i.jsx)("div",{className:"col-lg-12",children:o?(0,i.jsx)("h3",{className:"h3 my-4",children:"\u0423\u0434\u0430\u043b\u0451\u043d"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z,{}),(0,i.jsx)(H,{email:s})]})})]}),(0,i.jsx)("div",{className:"col-lg-4 container",children:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(I,{})})})]}):(0,i.jsx)("div",{className:"col-lg-6",children:"\u041a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f"}),(0,i.jsx)(n.N_,{to:"/admin/home",children:"\u041d\u0430\u0437\u0430\u0434 \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043b\u0435\u043d\u0442\u043e\u0432"})]})})},G=()=>(0,i.jsx)("div",{children:"AdminsListPage"}),K=()=>(0,i.jsx)("div",{children:"AdminAccount"}),Q=()=>{const{roles:e}=(0,a.A)(),s=(0,n.Zp)();(0,l.useEffect)((()=>{e.includes("superadmin")||s("/home")}),[e]);const[t,r]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[o,m]=(0,l.useState)(!0),[h,u]=(0,l.useState)(!1),[x,{isLoading:j,isSuccess:g,isError:v,error:f}]=p(),b=t.length>=4&&c.length>=8;console.log(b);return(0,i.jsx)("form",{onSubmit:e=>(async e=>{if(e.preventDefault(),console.log(t,c,o,h),b)try{const{success:e}=await x({username:t,password:c,adminRole:o,superadminRole:h}).unwrap();r(""),d(""),m(!0),u(!1),s("/home")}catch(n){console.log(n),d("")}})(e),className:"form container",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsxs)("div",{className:"col-lg-4",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"username",children:"username"}),(0,i.jsx)("input",{value:t,onChange:e=>r(e.target.value),id:"username",type:"text",autoComplete:"off",required:!0,className:`form-control floating ${t.length&&(t.length>=4?"is-valid":"is-invalid")}`})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"password",children:"password"}),(0,i.jsx)("input",{value:c,onChange:e=>d(e.target.value),id:"password",type:"text",autoComplete:"off",required:!0,required:!0,className:`form-control floating mb-3 ${c.length&&(c.length>=8?"is-valid":"is-invalid")}`})]}),(0,i.jsxs)("div",{className:"d-flex justify-content-around",children:[(0,i.jsxs)("div",{className:"form-check",children:[(0,i.jsx)("input",{checked:h||o,onChange:e=>m(e.target.checked),id:"checkAdmin",type:"checkbox",disabled:!0,className:"form-check-input"}),(0,i.jsx)("label",{htmlFor:"checkAdmin",className:"form-check-label",children:"admin"})]}),(0,i.jsxs)("div",{className:"form-check",children:[(0,i.jsx)("input",{checked:h,onChange:e=>u(e.target.checked),id:"checkSuperadmin",type:"checkbox",className:"form-check-input"}),(0,i.jsx)("label",{htmlFor:"checkSuperadmin",className:"form-check-label",children:"superadmin"})]})]}),(0,i.jsx)("button",{type:"submit",className:"btn btn-warning mt-3",disabled:!b,children:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c"})]})})})};t(111);const V=()=>(0,i.jsx)(n.BV,{children:(0,i.jsxs)(n.qh,{path:"/*",element:(0,i.jsx)(E,{}),children:[(0,i.jsx)(n.qh,{index:!0,element:(0,i.jsx)(n.N_,{to:"/home",children:"Home"})}),(0,i.jsx)(n.qh,{path:"home",element:(0,i.jsx)(F,{})}),(0,i.jsx)(n.qh,{path:"clients",element:(0,i.jsx)(q,{})}),(0,i.jsx)(n.qh,{path:"clients/:id",element:(0,i.jsx)(B,{})}),(0,i.jsx)(n.qh,{path:"admins",element:(0,i.jsx)(G,{})}),(0,i.jsx)(n.qh,{path:"admins/:username",element:(0,i.jsx)(K,{})}),(0,i.jsx)(n.qh,{path:"admins/create",element:(0,i.jsx)(Q,{})}),(0,i.jsx)(n.qh,{path:"*",element:(0,i.jsx)(n.C5,{to:"/",replace:!0})})]})})},834:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(579);const l=()=>(0,n.jsx)("footer",{children:"\u0442\u0443\u0442 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c?(footer)"})},840:(e,s,t)=>{t.d(s,{A:()=>h});var n=t(43),l=t(727),a=t(3),r=t(417),i=t(953),c=t(786),d=(t(200),t(566)),o=t.n(d),m=t(579);const h=()=>{const[e,s]=(0,n.useState)(""),[t,d]=(0,n.useState)(""),[h,u]=(0,n.useState)(""),[x,j]=(0,c.A)(),p=(0,n.useRef)(),g=(0,n.useRef)(),v=(0,l.Zp)(),f=(0,a.wA)(),[b,{isLoading:N}]=(0,i._L)();(0,n.useEffect)((()=>{p.current.focus()}),[]),(0,n.useEffect)((()=>{u("")}),[e,t]);const w=h?"errmsg":"offscreen";if(N)return(0,m.jsx)(o(),{color:"#FFF"});return(0,m.jsxs)("section",{className:"public",children:[(0,m.jsx)("p",{ref:g,className:w,"aria-live":"assertive",children:h}),(0,m.jsxs)("form",{className:"form",onSubmit:async n=>{n.preventDefault();try{const{accessToken:n}=await b({username:e,password:t}).unwrap();f((0,r.LA)({accessToken:n})),s(""),d(""),v("/home")}catch(a){if(a.status)if(400===a.status)u("Missing Username or Password");else if(401===a.status)u("Unauthorized");else{var l;u(null===(l=a.data)||void 0===l?void 0:l.message)}else u("No Server Response")}},children:[(0,m.jsx)("label",{htmlFor:"username",children:"\u043b\u043e\u0433\u0438\u043d: "}),(0,m.jsx)("input",{className:"form__input",type:"text",id:"username",ref:p,value:e,onChange:e=>s(e.target.value),autoComplete:"off",required:!0}),(0,m.jsx)("label",{htmlFor:"password",children:"\u043f\u0430\u0440\u043e\u043b\u044c: "}),(0,m.jsx)("input",{className:"form__input",type:"password",id:"password",onChange:e=>d(e.target.value),value:t,required:!0}),(0,m.jsx)("button",{className:"form__submit-button",children:"\u0412\u043e\u0439\u0442\u0438"}),(0,m.jsxs)("label",{htmlFor:"persist",className:"form__persist",children:[(0,m.jsx)("input",{type:"checkbox",className:"form__checkbox",id:"persist",onChange:()=>j((e=>!e)),checked:x}),"\u0437\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"]})]})]})}}}]);
//# sourceMappingURL=277.d8500d64.chunk.js.map